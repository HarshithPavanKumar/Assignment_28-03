<div class="add-employee-container">
  <h2>Add New Employee</h2>
  
  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Name</label>
      <input type="text" formControlName="name">
      @if (employeeForm.get('name')?.invalid && employeeForm.get('name')?.touched) {
        <div class="error-message">
          @if (employeeForm.get('name')?.hasError('required')) {
            Name is required
          }
          @if (employeeForm.get('name')?.hasError('pattern')) {
            Only letters and spaces allowed
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" formControlName="email">
      @if (employeeForm.get('email')?.invalid && employeeForm.get('email')?.touched) {
        <div class="error-message">
          @if (employeeForm.get('email')?.hasError('required')) {
            Email is required
          }
          @if (employeeForm.get('email')?.hasError('email')) {
            Please enter a valid email
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label>Phone</label>
      <input type="text" formControlName="phone" maxlength="10">
      @if (employeeForm.get('phone')?.invalid && employeeForm.get('phone')?.touched) {
        <div class="error-message">
          @if (employeeForm.get('phone')?.hasError('required')) {
            Phone is required
          }
          @if (employeeForm.get('phone')?.hasError('pattern')) {
            Must be 10 digits
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label>Department</label>
      <input type="text" formControlName="department">
      @if (employeeForm.get('department')?.invalid && employeeForm.get('department')?.touched) {
        <div class="error-message">Department is required</div>
      }
    </div>

    <div class="form-group">
      <label>Position</label>
      <input type="text" formControlName="position">
      @if (employeeForm.get('position')?.invalid && employeeForm.get('position')?.touched) {
        <div class="error-message">Position is required</div>
      }
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="employeeForm.invalid || isLoading" class="btn btn-primary">
        @if (isLoading) {
          <span class="spinner">Saving...</span>
        } @else {
          Add Employee
        }
      </button>
      <button type="button" (click)="router.navigate(['/dashboard'])" [disabled]="isLoading" class="btn btn-secondary">
        Cancel
      </button>
    </div>
  </form>
</div>